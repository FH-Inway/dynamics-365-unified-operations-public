---
title: Redirecting to Canonical URLs for Category and Product Pages in the Online SDK (preview)
description: Learn how to implement a custom redirect for category and product pages by extending modules in the online SDK.
author: krishnabh
ms.date: 07/24/2025
ms.topic: how-to
audience: Application User
ms.reviewer: adpattanaik
ms.search.region: Global
ms.author: krishnabh
ms.search.validFrom: 2025-04-07
ms.custom: 
  - bap-template
---

[!include [banner](../includes/banner.md)]

# Redirecting to Canonical URLs for Category and Product Pages in the Online SDK (preview)

This guide outlines how to implement redirects to canonical URLs for category and product detail pages using the Dynamics 365 Commerce Online SDK. This ensures that users and search engines consistently access the clean, intended version of each page.  
## Why Are Canonical URLs Important? 

In the e-commerce SDK, category and product pages can be accessed through URLs that include unnecessary or random segments. While these URLs are technically valid, they can lead to - 

- Duplicate content issues  

- Poor SEO performance  

- Confusing user experience

Redirecting to canonical URLs helps maintain a consistent structure, improves search engine indexing, and enhances overall site usability.   

## Prerequisites

- A working Dynamics 365 Commerce online SDK environment.
- Familiarity with extending modules.

## How Canonical Redirects Work? 

The canonical url redirects works in following manner -  

- Detect when the requested URL does not match the canonical format.  

- Throw an instance of HttpRedirectException with the correct URL set in the Location property.  

- This halts further rendering and initiates a redirection to the canonical URL.  


**Example**: Redirecting a Category Page if it is accessed via a non-canonical URL, the module should identify the discrepancy and redirect to the correct version.  

Canonical URL: https://www.fabrikam.com/womens-clothing/45678.p 

Requested URL:https://www.fabrikam.com/womens-clothing/unecessaryparameter/45678.p  

In this case, the module detects the extra segment (unnecessary parameter) and issues a redirect to the clean, canonical URL. 


## Implementing within a Module 

To implement a custom redirect within a module, throw an instance of the HttpRedirectException at the appropriate location in the module. This action halts the rendering of subsequent modules and initiate a redirect to the URL specified in the Location property of the HttpRedirectException. 


## Solution Approach

All e-commerce site pages hosted on the Dynamics 365 Commerce domain include a canonical URL in the HTML <meta> tags by default. To implement a redirect based on this canonical URL, you must identify the module responsible for generating it and insert your redirect logic there.

In this case, the canonical URL is generated by the default-page-summary module. This module is referenced by the category-page-summary module, which is included in the default category page template provided by Dynamics 365. Therefore, adding conditional redirect logic in the default-page-summary module ensures the redirect occurs wherever category pages are used.

**Step 1:** Customize **default-page-summary** module and implement custom logic to throw HttpRedirectException error.

**src\modules\default-page-summery-extension\default-page-summery-extension.tsx**

```typescript

import { HttpRedirectException } from '@msdyn365-commerce/core-internal';

if (canonicalUrl && context && context.request && context.request.url && canonicalUrl !== context.request.url.requestUrl.href) {
    const e = new HttpRedirectException(canonicalUrl);
    e.StatusCode = 302 
    throw e;
}
});
```

**Step 2: Customize **category-page-summary** module and update the module definition to point to your custom view. 

**src\modules\category-page-summary-extension\category-page-summary-extension.definition.json**
```json

"module": {
		"view": "../default-page-summery-extension/default-page-summery-extension"
	}

```

**Step 3:**  Replace the **category-page-summary** module with the custom(**category-page-summary-extension**) module in the category template in site builder. 





> [!NOTE]
> **Avoid Infinite Redirects** : When implementing bulk redirects alongside custom redirects, exercise caution to prevent infinite redirect loops. 
>Always verify that URLs set for client-side or server-side redirection are not also listed as sources or destinations in bulk redirect rules. 


## Additional resources

[Module library overview](../starter-kit-overview.md)

[Page Summary Module](../dev-itpro/page-summary-module.md)

[Meta Tags Module](../dev-itpro/metatags-module.md)

[Default Page Module](../dev-itpro/default-page-module.md)

[Extend Module Definition](extend-module-definition.md)

[Create New Module](create-new-module.md)


[!INCLUDE[footer-include](../../includes/footer-banner.md)]
